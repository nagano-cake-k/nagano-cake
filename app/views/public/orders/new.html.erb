
<div class="order_input">

  <h3 class="title">注文情報入力</h2>

  <%= form_with model: @order, url:public_orders_confirm_path, method: :post do |f| %>
  <div class="payment_select">
    <h4>支払い方法</h4>
    <p class="radio_bottun mb-0">
      <%= f.radio_button :payment_method, :card, checked: true %>
      <%= f.label :payment_method, "クレジットカード" %>
    </p>
    <p class="radio_bottun mb-0">
      <%= f.radio_button :payment_method, :bank %>
      <%= f.label :payment_method, "銀行振込" %>
    </p>
  </div>
  <div class="address_select">
    <h4>お届け先</h4>
    <div class="self_address">
      <p class="radio_bottun mb-0">
        <%= f.radio_button :address_type, "customer_address" %>
        <%= f.label :address_type, "ご自身の住所" %>
      </p>
      <p class="address_text mb-0">
        〒<%= current_customer.post_code + "　" + current_customer.address  %>
      </p>
      <P class="name_text">
        <%= current_customer.last_name + "　" + current_customer.first_name %>
      </P>
    </div>
    <div class="registered_address">
      <% if current_customer.address.empty? %>
      <% else %>
        <%= f.radio_button :address_type, [:registered_address] %>
        <%= f.label :address_type, "登録済み住所から選択" %>
        <div class="ml-5 ">
          <%#= f.select :address_id, options_from_collection_for_select(Address.where(customer_id: current_customer.id), :id, :address) %>
          <%#= f.select :registered_address_id, current_customer.address.all.map { |m| [[m.post_code, m.address, m.name].join(" "), m.id] } ,include_blank: "登録してある配送先住所から選択" %>
          <%= f.collection_select(:registration_address, current_customer.address, :id, :postcode_and_address_and_name,{}, {class: "form-control"}) %>
        </div>
      <% end %>
    </div>

  </div>
  <% end %>


</div>



